<script>
  window.addEventListener('load', () => {
    // sort entries by year
    const container = document.getElementById('container');
    const items = Array.from(container.querySelectorAll('.entry'));
    items.sort((a, b) => {
      const year = el => {
        const text = el.querySelector('time')?.textContent || '';
        const m = text.match(/(\d{4})/);
        return m ? parseInt(m[1], 10) : Number.POSITIVE_INFINITY;
      };
      return year(a) - year(b);
    });
    container.innerHTML = '';
    items.forEach(el => container.appendChild(el));

    // auto-scroll
    let speed = 0.6; // pixels per frame
    function loop() {
      const y = window.scrollY || document.documentElement.scrollTop;
      const max = document.body.scrollHeight - window.innerHeight;

      let next = y + speed;
      if (next >= max) {
        next = 0; // reset to top
      }
      window.scrollTo(0, next);

      requestAnimationFrame(loop);
    }

    requestAnimationFrame(loop);
  });
</script>
